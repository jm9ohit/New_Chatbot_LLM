<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="outer">
      <div class="chat-container">
        <div class="header">Chatbot</div>
        <div id="root" style="flex:1;display:flex;flex-direction:column"></div>
      </div>
    </div>

    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="text/babel">

    function ChatInput() {
        return (
          <div className="input-area">
            <input 
                type="text"
                placeholder="Send a message to Chatbot..." 
            />
            <button>Send</button>
          </div>
        );
    }

    function ChatMessage({ message, sender }) {
        return (
            <div className={`msg-row ${sender}`}>
                {sender==='bot' && (
                    <img src="robot.png" className="avatar" />
                )}
                <div className={`bubble ${sender}`}>{message}</div>
                {sender==='user' && (
                    <img src="user.png" className="avatar" />
                )}
            </div>
        );
    }
    
    function ChatMessages() {
        const messages = [
            { 
                message: "hello Chatbot", 
                sender: "user", 
                id: "id1" 
            },
            { 
                message: "Hello! How can I help you?", 
                sender: "bot", id: "id2" 
            },
            { 
                message: "can you get me todays date?", 
                sender: "user", 
                id: "id3" },   
            { 
                message: "Todays is September 27", 
                sender: "bot", 
                id: "id4" 
            }
        ];
        function sendMessage() {
            messages.push({
                message: "test",
                sender: "user",
                id: crypto.randomUUID()
            });
        }

        
        return (
            <>
              <button onClick={sendMessage} style={{marginBottom: '10px'}}>Send Message</button>
              {messages.map((msg) => (
                  <ChatMessage 
                      message={msg.message} 
                      sender={msg.sender} 
                      key={msg.id}
                  />
              ))}
            </>
        );
    }

    function App() {
        return (
            <>
                <ChatMessages />
                <ChatInput />
            </>
        );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
    </script>
  </body>
</html>
